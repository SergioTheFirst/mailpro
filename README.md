# README.md - MailBot Premium v26 (Celeron Hell Edition)

*–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –Ω–∏–∑–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–ª–Ω–æ–π –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.*

---

#  –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**MailBot v26** - —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π –∞–≥–µ–Ω—Ç —Å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ *—É–ª—å—Ç—Ä–∞—Å–ª–∞–±–æ–º –∂–µ–ª–µ–∑–µ* (Windows, Celeron, 3GB RAM), –Ω–æ —Å –∫–∞—á–µ—Å—Ç–≤–æ–º –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è.

–ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –ø–∏—Å—å–º–∞, –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ–∞–∫—Ç—ã, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤–ª–æ–∂–µ–Ω–∏—è, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–∏–µ (<=200 —Å–∏–º–≤–æ–ª–æ–≤) –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–≤–æ–¥–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ Telegram.

–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã:

* **–ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏:** 30-180 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–∏—Å—å–º–æ –¥–æ–ø—É—Å—Ç–∏–º—ã
* **–°–≤–µ—Ä—Ö–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** –∑–∞—â–∏—Ç–∞ –æ—Ç OOM, –ø–µ—Ä–µ–≥—Ä–µ–≤–∞ CPU, –∑–∞–≤–∏—Å–∞–Ω–∏–π OCR/LLM
* **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** IMAP -> Extract -> Classify -> Summarize -> Validate -> Format
* **Zero Hallucinations philosophy:** –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ —Ç–µ–∫—Å—Ç–∞
* **LLM Multi-Stage:** –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è -> –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ -> —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ -> –≤–∞–ª–∏–¥–∞—Ü–∏—è
* **Lazy loading –º–æ–¥–µ–ª–µ–π:** ML –∏ OCR –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
* **Adaptive degradation:** –ø—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ RAM –≤–∫–ª—é—á–∞–µ—Ç—Å—è Hell-Mode (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, Cloudflare Only)

---

#  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Premium v26

```
mailbot_v26/
‚îÇ
‚îú‚îÄ‚îÄ start.py                 # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (–≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª)
‚îÇ
‚îú‚îÄ‚îÄ bot_core/                # –Ø–¥—Ä–æ: –ª–æ–≥–∏–∫–∞, pipeline, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ imap_client.py       # Hybrid UID + SINCE –ø–æ–∏—Å–∫, –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ extractor_engine.py  # PDF->text, DOCX->text, OCR, Hell-safe —Ä–µ–∂–∏–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ classifier.py        # Keyword + Lazy ML –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ llm_engine.py        # Cloudflare LLM + –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ validator.py         # Cross-check –¥–∞—Ç/—Å—É–º–º + Jaccard ROUGE Lite
‚îÇ   ‚îú‚îÄ‚îÄ formatter.py         # –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ registry.py          # –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ context_manager.py   # –ê–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–µ–∫, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–∏—Å—å–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ hell_wrapper.py      # OOM guard, RAM monitor, retry/backoff
‚îÇ   ‚îî‚îÄ‚îÄ state_manager.py     # –•—Ä–∞–Ω–µ–Ω–∏–µ last_uid, last_date, heartbeat, threads
‚îÇ
‚îú‚îÄ‚îÄ worker/
‚îÇ   ‚îî‚îÄ‚îÄ processor.py         # –ö–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ->LLM->–≤–∞–ª–∏–¥–∞—Ü–∏—è->Telegram
‚îÇ
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îú‚îÄ‚îÄ web_main.py          # –õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –ø–∞–Ω–µ–ª—å Bottle / FastAPI
‚îÇ   ‚îî‚îÄ‚îÄ templates/           # HTML –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–∞
‚îÇ
‚îú‚îÄ‚îÄ prompts/                 # PROMPTS v3.0 (Anti-Hallucination Edition)
‚îÇ   ‚îú‚îÄ‚îÄ body.txt             # –°—É—Ç—å –ø–∏—Å—å–º–∞ <=180 —Å–∏–º–≤–æ–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ actions.txt          # –î–µ–π—Å—Ç–≤–∏—è (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å |)
‚îÇ   ‚îú‚îÄ‚îÄ invoice.txt          # –ò–Ω–≤–æ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ contract.txt         # –î–æ–≥–æ–≤–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ price_offer.txt      # –ö–ü
‚îÇ   ‚îú‚îÄ‚îÄ delivery_act.txt     # –ê–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ scanned.txt          # –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ claim.txt            # –ü—Ä–µ—Ç–µ–Ω–∑–∏–∏ / —Ä–µ–∫–ª–∞–º–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ bank_statement.txt   # –í—ã–ø–∏—Å–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ hr_doc.txt           # –ö–∞–¥—Ä–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ shrink.txt           # –°–∂–∞—Ç–∏–µ —á—Ä–µ–∑–º–µ—Ä–Ω–æ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îú‚îÄ‚îÄ pdftotext.exe        # Poppler - –ª–µ–≥—á–∞–π—à–∏–π PDF extractor
‚îÇ   ‚îú‚îÄ‚îÄ catdoc.exe           # DOC extractor
‚îÇ   ‚îú‚îÄ‚îÄ xlhtml.exe           # XLS extractor
‚îÇ   ‚îî‚îÄ‚îÄ tesseract/           # OCR (light configuration)
‚îÇ
‚îú‚îÄ‚îÄ accounts.ini             # IMAP-–∞–∫–∫–∞—É–Ω—Ç—ã
‚îú‚îÄ‚îÄ config.ini               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt         # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ state/
    ‚îú‚îÄ‚îÄ state.json           # UID, heartbeat, thread history
    ‚îî‚îÄ‚îÄ logs/                # –û—à–∏–±–∫–∏, quarantine, LLM latency stats
```

---

#  –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è Premium v26

### 1. **–ö–∞—á–µ—Å—Ç–≤–æ > –°–∫–æ—Ä–æ—Å—Ç—å**

–õ—É—á—à–µ 2 –º–∏–Ω—É—Ç—ã –Ω–∞ –ø–∏—Å—å–º–æ, —á–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞.

### 2. **Zero Hallucinations**

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å *–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º–∏* –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ.

### 3. **Silence on absence**

–ï—Å–ª–∏ —Ñ–∞–∫—Ç–∞ –Ω–µ—Ç -> –Ω–∏–∫–∞–∫–∏—Ö "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö", –ø—É—Å—Ç–æ—Ç–∞ -> —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

### 4. **Layered Pipeline**

–ö–∞–∂–¥—ã–π —Å–ª–æ–π —É–º–µ–Ω—å—à–∞–µ—Ç —Ö–∞–æ—Å:

1. Extract ->
2. Classify ->
3. LLM Extract ->
4. LLM Verify ->
5. Deep Validation ->
6. Format (<=200 chars)

### 5. **Lazy ML + Lazy LLM**

–ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

### 6. **Hell-Mode**

–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª–∞–±–æ–≥–æ –∂–µ–ª–µ–∑–∞:

* –ø—Ä–∏ RAM<500MB -> OCR –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è
* –ø—Ä–∏ CPU>80% -> heavy jobs –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
* Cloudflare Only Mode (–ª–æ–∫–∞–ª—å–Ω–∞—è ML –æ—Ç–∫–ª—é—á–µ–Ω–∞)
* fallback: regex facts

### 7. **Self-Verification**

LLM –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤–æ–∏ –∂–µ —Ñ–∞–∫—Ç—ã –≤—Ç–æ—Ä—ã–º –∑–∞–ø—Ä–æ—Å–æ–º (¬´–∏–∑–≤–ª–µ—á–µ–Ω–æ -> –ø—Ä–æ–≤–µ—Ä—å -> —É–¥–∞–ª–∏ –ª–æ–∂–Ω–æ–µ¬ª).

---

#  –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∏—Å—å–º–∞: –ø–æ–ª–Ω—ã–π pipeline

```
IMAP fetch (Hybrid UID + SINCE)
    ‚Üì
Extractor Engine
    PDF->text, DOCX->text, XLS->text, OCR –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    ‚Üì
Classifier
    Keyword -> 70%
    Lazy ML -> 30% (–≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏)
    ‚Üì
LLM Stage 1 (Extract facts)
    ‚Üì
LLM Stage 2 (Verify facts)
    ‚Üì
Deep Validation
    Regex cross-check
    Jaccard similarity
    Negation detection
    ‚Üì
Formatting Engine
    –ö–æ—Ä–æ—Ç–∫–∞—è (<=200 —Å–∏–º–≤–æ–ª–æ–≤) —Å–≤–æ–¥–∫–∞, —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã
    ‚Üì
Telegram Sender
```

---

#  –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Document Registry)

–ö–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç:

* keywords
* prompt template
* validator (—Ä–µ–≥—É–ª—è—Ä–∫–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è)
* fallback —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä—ã:

```
invoice -> invoice.txt + validator: —Å—É–º–º–∞ + –¥–∞—Ç–∞
contract -> contract.txt + validator: –¥–∞—Ç–∞ + –ø—Ä–µ–¥–º–µ—Ç
...
```

---

# ü§ñ PROMPTS v3.0 - Anti-Hallucination Edition

–í—Å–µ –ø—Ä–æ–º–ø—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç:

```
–û–°–ù–û–í–´–í–ê–ô–°–Ø –¢–û–õ–¨–ö–û –ù–ê –¢–ï–ö–°–¢–ï.
–ù–ï –§–ê–ù–¢–ê–ó–ò–†–£–ô.
–§–ê–ö–¢–´ –ö–û–¢–û–†–´–• –ù–ï–¢ - –£–î–ê–õ–Ø–ô.
–ï–°–õ–ò –§–ê–ö–¢ –ù–ï –ù–ê–ô–î–ï–ù, –í–ï–†–ù–ò NONE –î–õ–Ø –≠–¢–û–ì–û –§–ê–ö–¢–ê.
–û–¢–í–ï–¢ –¢–û–õ–¨–ö–û –û–î–ù–û–ô –°–¢–†–û–ö–û–ô. –†–ê–ó–î–ï–õ–ò–¢–ï–õ–¨: |
```

–î–∞–ª–µ–µ Python –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —É–¥–∞–ª—è–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã —Å "NONE".

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

* –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É —Ñ–æ—Ä–º–∞—Ç–∞
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ–¥—ã
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π
* –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

# üß™ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞

–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç 4 —É—Ä–æ–≤–Ω—è:

1. **NONE Filtering**
2. **Cross-ref –¥–∞—Ç –∏ —Å—É–º–º –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—É**
3. **Jaccard similarity >= 0.5**
4. **Negation detection**

–ï—Å–ª–∏ summary –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é -> –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è fallback.

---

# ‚ö†Ô∏è Fallback Mode (–µ—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞)

–ë–æ—Ç –Ω–µ –º–æ–ª—á–∏—Ç –±–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

–§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è:

```
–¢–µ–º–∞: ...
–°—É–º–º—ã: ...
–î–∞—Ç—ã: ...
–î–µ–π—Å—Ç–≤–∏—è: ...
```

–¢–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã, –±–µ–∑ LLM.

---

# üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:

* Windows 10
* Python 3.10+
* RAM: 3GB
* CPU: Celeron

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```
imapclient
pymupdf
mammoth
openpyxl
pytesseract
natasha
requests
psutil
jinja2
```

---

# üöÄ –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å

```
python start.py
```

–í–µ–±-–ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```
http://localhost:8080
```

---

# üì¶ Roadmap

### Phase 1 (v26.1)

* –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π pipeline (LLM+–≤–∞–ª–∏–¥–∞—Ü–∏—è)
* OCR light
* Context Manager
* Hell-wrapper

### Phase 2 (v26.2)

* Feedback learning
* Sender-based templates
* Smart prioritization

### Phase 3 (v26.3)

* Analytics dashboard
* Multi-account parallelism (–≤ —Ä–∞–º–∫–∞—Ö Hell-mode –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)


